!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";var n=o(13),i=o(15),c=o(14);n.generate(),i.generate();var r=document.querySelector("#play"),a=document.querySelector("#error");r.onclick=function(){var e=c.matchSequence(c.getCurrSequence());e?i.runService(e):(a.classList.add("active"),setTimeout(function(){a.classList.remove("active")},2e3))}},,,,,,,,,,,,,function(e,t,o){"use strict";var n=o(14),i=n.blockActions(),c=o(15).getBlocks();t.blockActions=function(){return i},t.generate=function(){var e=document.querySelector("#menu"),t=document.querySelector("#menu-items"),o=!1,r=function(o){var r=document.createElement("li"),a=document.createElement("p");a.textContent=o,r.id="menu-"+o,r.setAttribute("data-id",i[o].join(",")),r.setAttribute("data-service",o),r.onclick=function(){var t=r.querySelectorAll(".block");n.setCurrSequence(this.getAttribute("data-id"));for(var o=0;o<t.length;o++)c[o].setColor(t[o].getAttribute("data-color"));e.click()},i[o].forEach(function(e){var t=document.createElement("button");t.classList.add("block"),t.style.backgroundColor="#"+e,t.setAttribute("data-color",e),r.appendChild(t),r.appendChild(a)}),t.appendChild(r)};for(var a in i)r(a);e.onclick=function(){o?t.classList.remove("active"):t.classList.add("active"),o=!o}}},function(e,t){"use strict";var o={draw:["ff0048","8f00af","ff0048"],camera:["00cc66","ffb600","0097ff"]},n={},i=void 0;for(var c in o)n[o[c].join(",")]=c;t.blockActions=function(){return o},t.matchSequence=function(e){return n[e]||!1},t.getCurrSequence=function(){return i},t.setCurrSequence=function(e){i=e}},function(e,t,o){"use strict";var n=o(14),i=o(16),c=o(17),r=["ff0048","ff6500","ffb600","00cc66","0097ff","8f00af"],a={};t.getBlocks=function(){return a},t.runService=function(e){switch(e){case"draw":i.generate();break;case"camera":c.generate()}},t.generate=function(){function e(e){a[e.count]=new o,a[e.count].color=e.color,a[e.count].colorPosition=e.colorPosition,a[e.count].position=e.position;var n=document.createElement("button");n.classList.add("block"),n.id="block-"+e.count,n.style.backgroundColor="#"+e.color,t.appendChild(n),n.onclick=function(){this.cycleColor()}.bind(a[e.count])}for(var t=document.querySelector(".terminal"),o=function(){this.setColor=function(e){this.color=e,document.querySelector("#block-"+this.position).style.backgroundColor="#"+this.color},this.cycleColor=function(){this.colorPosition++,this.colorPosition>r.length-1&&(this.colorPosition=0),this.color=r[this.colorPosition],document.querySelector("#block-"+this.position).style.backgroundColor="#"+this.color;var e=[];for(var t in a)e.push(a[t].color);n.setCurrSequence(e.join(","))}.bind(this)},i=[],c=0,s=0;3>s;s++){var d=r[s];e({count:c,color:d,colorPosition:c,position:c}),i.push(d),c++}n.setCurrSequence(i.join(","))}},function(e,t){"use strict";function o(){c.lineCap="round",c.globalCompositeOperation=g,c.beginPath(),c.moveTo(s,d),c.lineTo(l,u),c.strokeStyle=b,c.lineWidth=C,c.stroke(),c.shadowBlur=10,c.shadowColor="rgba(255, 255, 255, 0.95)",c.stroke(),c.shadowBlur=12,c.shadowColor="rgba(255, 255, 255, 0.85)",c.stroke(),c.shadowBlur=15,c.shadowColor=p,c.stroke(),c.shadowBlur=18,c.shadowColor=p,c.stroke(),c.shadowBlur=30,c.shadowColor=p,c.stroke(),c.closePath()}function n(){function e(e,t){switch(t.touches?(v=t.touches[0].clientX,f=t.touches[0].clientY):(v=t.clientX,f=t.clientY-105),e){case"down":s=l,d=u,l=v,u=f,a=!0,r=!0,r&&(c.beginPath(),c.fillStyle=b,c.fillRect(l,u,2,2),c.closePath(),r=!1);break;case"up":case"out":a=!1;break;case"move":a&&(s=l,d=u,l=v,u=f,o())}}c=i.getContext("2d"),i.addEventListener("mouseup",function(t){e("up",t)},!1),i.addEventListener("mousedown",function(t){e("down",t)},!1),i.addEventListener("mouseout",function(t){e("out",t)},!1),i.addEventListener("mousemove",function(t){e("move",t)},!1)}var i=void 0,c=void 0,r=!1,a=!1,s=0,d=0,l=0,u=0,v=void 0,f=void 0,h=window.innerWidth,m=window.innerHeight,p="rgba(255, 0, 128, 0.8)",g="screen",b="#fff",C=10;t.generate=function(){i=document.createElement("canvas"),i.id="service-draw";var e=document.createElement("div");e.style.width=h+"px",e.style.height=m+"px",i.width=h,i.height=m;var t=document.createElement("div");t.classList.add("handle"),t.style.width=h+"px";var o=document.createElement("div");o.textContent="✖",o.classList.add("close-service"),o.onclick=function(){document.body.removeChild(this.parentNode),p="rgba(255, 0, 128, 0.8)",g="screen"},e.appendChild(o);var r=document.createElement("div");r.textContent="⬇",r.classList.add("save"),r.onclick=function(){c.fillStyle="#111111",c.fill();var e=i.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");window.location.href=e},e.appendChild(r);var a={pink:{rgba:"rgba(255, 0, 128, 0.8)"},blue:{rgba:"rgba(0, 134, 255, 0.8)"},green:{rgba:"rgba(0, 220, 0, 0.8)"}},s=void 0;for(var d in a)s=document.createElement("div"),s.classList.add("color"),s.classList.add(d),s.style.backgroundColor=a[d].rgba,s.onclick=function(){p=this.style.backgroundColor;for(var e in a)document.querySelector("."+e).classList.remove("active");this.classList.add("active")},t.appendChild(s);var l=["screen","color-burn"],u=void 0;l.forEach(function(e){u=document.createElement("div"),u.classList.add("filter"),u.classList.add(e),u.textContent=e,u.onclick=function(){g=this.textContent,l.forEach(function(e){document.querySelector("."+e).classList.remove("active")}),this.classList.add("active")},t.appendChild(u)}),e.id="canvas-wrapper",e.appendChild(t),e.appendChild(i),t.querySelector(".pink").classList.add("active"),t.querySelector(".screen").classList.add("active"),document.body.appendChild(e),n()}},function(e,t){"use strict";function o(e){var t=document.createElement("video");t.setAttribute("autoplay",!0);var o=document.createElement("div");o.style.width=i+"px",o.style.height=c+"px";var n=document.createElement("div");n.classList.add("handle"),n.style.width=i+"px";var r=document.createElement("div");r.textContent="✖",r.classList.add("close-service"),r.onclick=function(){document.body.removeChild(this.parentNode)},o.appendChild(r),o.appendChild(n),o.appendChild(t),o.id="video-wrapper",document.body.appendChild(o),window.stream=e,t.src=window.URL.createObjectURL(e)}function n(e){console.log("navigator.getUserMedia error: ",e)}var i=600,c=450,r={audio:!1,video:!0};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,t.generate=function(){navigator.getUserMedia(r,o,n)}}]);