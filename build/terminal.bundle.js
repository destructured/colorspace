!function(e){function o(n){if(t[n])return t[n].exports;var c=t[n]={exports:{},id:n,loaded:!1};return e[n].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}var t={};return o.m=e,o.c=t,o.p="",o(0)}([function(e,o,t){"use strict";var n=t(11),c=t(14),i=t(16);n.generate(),c.generate();var r=document.querySelector("#play");r.onclick=function(){var e=i.matchSequence(i.getCurrSequence());e?(c.runService(e),console.log("running service")):console.log("no such serivce")}},,,,,,,,,,,function(e,o,t){"use strict";var n=t(16),c=n.blockActions(),i=t(14).getBlocks();document.querySelector("#play");o.blockActions=function(){return c},o.generate=function(){var e=document.querySelector("#menu"),o=document.querySelector("#menu-items"),t=!1,r=function(t){var r=document.createElement("li"),a=document.createElement("p");a.textContent=t,r.id="menu-"+t,r.setAttribute("data-id",c[t].join(",")),r.setAttribute("data-service",t),r.onclick=function(){var o=r.querySelectorAll(".block");n.setCurrSequence(this.getAttribute("data-id"));for(var t=0;t<o.length;t++)console.log(o[t]),i[t].setColor(o[t].getAttribute("data-color"));e.click()},c[t].forEach(function(e){var o=document.createElement("button");o.classList.add("block"),o.style.backgroundColor="#"+e,o.setAttribute("data-color",e),r.appendChild(o),r.appendChild(a)}),o.appendChild(r)};for(var a in c)r(a);e.onclick=function(){t?o.classList.remove("active"):o.classList.add("active"),t=!t}}},,,function(e,o,t){"use strict";var n=t(16),c=t(15),i=["ff0048","ff6500","ffb600","00cc66","0097ff","8f00af"],r={};o.getBlocks=function(){return r},o.runService=function(e){switch(e){case"draw":c.generate()}},o.generate=function(){function e(e){r[e.count]=new t,r[e.count].color=e.color,r[e.count].colorPosition=e.colorPosition,r[e.count].position=e.position;var n=document.createElement("button");n.classList.add("block"),n.id="block-"+e.count,n.style.backgroundColor="#"+e.color,o.appendChild(n),n.onclick=function(){this.cycleColor()}.bind(r[e.count])}var o=document.querySelector(".terminal"),t=function(){this.setColor=function(e){this.color=e,document.querySelector("#block-"+this.position).style.backgroundColor="#"+this.color,localforage.setItem("blocks",JSON.stringify(r),function(e){e&&console.log(e)})},this.cycleColor=function(){this.colorPosition++,this.colorPosition>i.length-1&&(this.colorPosition=0),this.color=i[this.colorPosition],document.querySelector("#block-"+this.position).style.backgroundColor="#"+this.color;var e=[];for(var o in r)e.push(r[o].color);n.setCurrSequence(e.join(",")),localforage.setItem("blocks",JSON.stringify(r),function(e){e&&console.log(e)})}.bind(this)},c=[];localforage.getItem("blocks",function(o,t){if(o||!t)!function(){var o=0;i.forEach(function(t){e({count:o,color:t,colorPosition:o,position:o}),c.push(t),o++})}();else{t=JSON.parse(t);for(var r in t)e({count:r,color:t[r].color,colorPosition:t[r].colorPosition,position:t[r].position}),c.push(t[r].color)}n.setCurrSequence(c.join(","))})}},function(e,o){"use strict";function t(){i.lineCap="round",i.globalCompositeOperation=g,i.beginPath(),i.moveTo(s,l),i.lineTo(u,d),i.strokeStyle=b,i.lineWidth=C,i.stroke(),i.shadowBlur=10,i.shadowColor="rgba(255, 255, 255, 0.95)",i.stroke(),i.shadowBlur=12,i.shadowColor="rgba(255, 255, 255, 0.85)",i.stroke(),i.shadowBlur=15,i.shadowColor=p,i.stroke(),i.shadowBlur=18,i.shadowColor=p,i.stroke(),i.shadowBlur=30,i.shadowColor=p,i.stroke(),i.closePath()}function n(){function e(e,o){switch(o.touches?(f=o.touches[0].clientX,h=o.touches[0].clientY):(f=o.clientX,h=o.clientY-105),e){case"down":s=u,l=d,u=f,d=h,a=!0,r=!0,r&&(i.beginPath(),i.fillStyle=b,i.fillRect(u,d,2,2),i.closePath(),r=!1);break;case"up":case"out":a=!1;break;case"move":a&&(s=u,l=d,u=f,d=h,t())}}i=c.getContext("2d"),c.addEventListener("mouseup",function(o){e("up",o)},!1),c.addEventListener("mousedown",function(o){e("down",o)},!1),c.addEventListener("mouseout",function(o){e("out",o)},!1),c.addEventListener("mousemove",function(o){e("move",o)},!1)}var c=void 0,i=void 0,r=!1,a=!1,s=0,l=0,u=0,d=0,f=void 0,h=void 0,v=window.innerWidth,m=window.innerHeight,p="rgba(255, 0, 128, 0.8)",g="screen",b="#fff",C=10;o.generate=function(){c=document.createElement("canvas"),c.id="service-draw";var e=document.createElement("div");e.style.width=v+"px",e.style.height=m+"px",c.width=v,c.height=m;var o=document.createElement("div");o.classList.add("handle"),o.style.width=v+"px";var t=document.createElement("div");t.textContent="✖",t.classList.add("close-service"),t.onclick=function(){document.body.removeChild(this.parentNode),p="rgba(255, 0, 128, 0.8)",g="screen"},e.appendChild(t);var r=document.createElement("div");r.textContent="⬇",r.classList.add("save"),r.onclick=function(){i.fillStyle="#111111",i.fill();var e=c.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");window.location.href=e},e.appendChild(r);var a={pink:{rgba:"rgba(255, 0, 128, 0.8)"},blue:{rgba:"rgba(0, 134, 255, 0.8)"},green:{rgba:"rgba(0, 220, 0, 0.8)"}},s=void 0;for(var l in a)s=document.createElement("div"),s.classList.add("color"),s.classList.add(l),s.style.backgroundColor=a[l].rgba,s.onclick=function(){p=this.style.backgroundColor;for(var e in a)document.querySelector("."+e).classList.remove("active");this.classList.add("active")},o.appendChild(s);var u=["screen","color-burn"],d=void 0;u.forEach(function(e){d=document.createElement("div"),d.classList.add("filter"),d.classList.add(e),d.textContent=e,d.onclick=function(){g=this.textContent,u.forEach(function(e){document.querySelector("."+e).classList.remove("active")}),this.classList.add("active")},o.appendChild(d)}),e.id="canvas-wrapper",e.appendChild(o),e.appendChild(c),o.querySelector(".pink").classList.add("active"),o.querySelector(".screen").classList.add("active"),document.body.appendChild(e),n()}},function(e,o){"use strict";var t={draw:["ff0048","8f00af","ff0048","8f00af","ff0048","8f00af"],camera:["00cc66","ffb600","0097ff","00cc66","ffb600","0097ff"]},n={},c=void 0;for(var i in t)n[t[i].join(",")]=i;o.blockActions=function(){return t},o.matchSequence=function(e){return console.log(e),n[e]||!1},o.getCurrSequence=function(){return c},o.setCurrSequence=function(e){c=e}}]);